ğŸ§¾ Documento TÃ©cnico â€” DefiniÃ§Ã£o de VersÃ£o SisUno v0.7

Projeto: Sistema de GestÃ£o Integrado SisUno
Fase: MÃ³dulo de GeraÃ§Ã£o de OrÃ§amentos em PDF
Data: 06/11/2025
ResponsÃ¡vel: Restaurador Officina

ğŸ”¹ 1. Objetivo Geral

Implementar a geraÃ§Ã£o automÃ¡tica de orÃ§amentos em PDF, vinculada ao prontuÃ¡rio de cada cliente.
O sistema deve permitir que um orÃ§amento aprovado ou em elaboraÃ§Ã£o seja exportado para PDF formatado, contendo todas as informaÃ§Ãµes relevantes: cliente, prontuÃ¡rio, itens, valores e observaÃ§Ãµes.

ğŸ”¹ 2. Estrutura de GeraÃ§Ã£o
ğŸ§© Entrada de dados (via banco)

O script extrai as informaÃ§Ãµes de:

Cliente: nome, tipo, contatos.

ProntuÃ¡rio: cÃ³digo, descriÃ§Ã£o e pasta associada.

OrÃ§amento: cÃ³digo, status, total e data.

Itens: descriÃ§Ã£o, tipo, quantidade, valor unitÃ¡rio e total.

ğŸ“¤ SaÃ­da esperada

Arquivo PDF gerado no formato:

H:\SisUno\Clientes\<Nome_Cliente>\Orcamentos\<Codigo_Orcamento>.pdf


Exemplo:

H:\SisUno\Clientes\JoÃ£o_Silva_2025-11-05\Orcamentos\ORC-1762388821.pdf

ğŸ”¹ 3. Estrutura de Layout do PDF
ğŸ“„ CabeÃ§alho

Logotipo (se disponÃ­vel)

Nome do sistema: SisUno

TÃ­tulo: OrÃ§amento de ServiÃ§os / Produtos

CÃ³digo do orÃ§amento e data de emissÃ£o

ğŸ‘¤ Dados do Cliente
Campo	DescriÃ§Ã£o
Nome / RazÃ£o Social	Nome completo do cliente
Tipo	Pessoa fÃ­sica ou jurÃ­dica
Contato	Telefone / E-mail
EndereÃ§o	EndereÃ§o completo (se disponÃ­vel)
ğŸ“ Dados do ProntuÃ¡rio
Campo	DescriÃ§Ã£o
CÃ³digo	Ex: PRT-1-20251105204809
DescriÃ§Ã£o	Ex: "RestauraÃ§Ã£o de cristaleira antiga"
Data de criaÃ§Ã£o	AutomÃ¡tica (campo criado_em)
ğŸ’° Itens do OrÃ§amento

Tabela com colunas:

Tipo	DescriÃ§Ã£o	Qtd	Valor UnitÃ¡rio	Total
SERVIÃ‡O	RestauraÃ§Ã£o de cristaleira	1	450.00	450.00
INSUMO	Verniz Premium	2	85.50	171.00

Subtotal: R$ 621.00

ğŸ§¾ RodapÃ©

CondiÃ§Ãµes comerciais (texto fixo personalizÃ¡vel).

EspaÃ§o para assinatura ou carimbo.

RodapÃ© com:

Sistema de GestÃ£o SisUno Â© 2025 - Gerado automaticamente em <data e hora>

ğŸ”¹ 4. Estrutura TÃ©cnica
ğŸ› ï¸ Script principal

Arquivo:

src/backend/gerar_orcamento_pdf.py

ğŸ§° Bibliotecas

reportlab â€” geraÃ§Ã£o e formataÃ§Ã£o de PDFs.

sqlite3 â€” extraÃ§Ã£o dos dados do banco.

os â€” manipulaÃ§Ã£o de diretÃ³rios.

datetime â€” data/hora de geraÃ§Ã£o.

ğŸ§± Campos adicionais no banco

SerÃ¡ adicionada uma nova coluna Ã  tabela orcamentos:

ALTER TABLE orcamentos ADD COLUMN arquivo_pdf TEXT;


Para armazenar o caminho completo do arquivo gerado.

ğŸ”¹ 5. Fluxo de GeraÃ§Ã£o
[Selecionar orÃ§amento]
        â†“
[Ler dados do banco]
        â†“
[Montar documento PDF com ReportLab]
        â†“
[Gerar diretÃ³rio Orcamentos no prontuÃ¡rio, se nÃ£o existir]
        â†“
[Salvar PDF e registrar caminho no banco]
        â†“
[Confirmar sucesso no terminal]

ğŸ”¹ 6. Exemplo de saÃ­da no terminal
ğŸ“„ GeraÃ§Ã£o de OrÃ§amento - SisUno v0.7
=====================================
âœ… Dados carregados: ORC-1762388821
ğŸ‘¤ Cliente: JoÃ£o Silva
ğŸ“ ProntuÃ¡rio: PRT-1-20251105204809
ğŸ’° Total: R$ 621.00
ğŸ“‚ PDF salvo em: H:\SisUno\Clientes\JoÃ£o_Silva_2025-11-05\Orcamentos\ORC-1762388821.pdf
=====================================
âœ… OrÃ§amento exportado com sucesso!

ğŸ”¹ 7. PrÃ³ximos arquivos a gerar
Arquivo	LocalizaÃ§Ã£o	FunÃ§Ã£o
gerar_orcamento_pdf.py	src/backend/	Script principal de geraÃ§Ã£o
update_orcamentos_v07.sql	database/	Adiciona coluna arquivo_pdf
test_pdf_v07.py	database/	Testa criaÃ§Ã£o e salvamento do PDF
ğŸ”¹ 8. Requisitos mÃ­nimos

Python 3.12+

Biblioteca reportlab instalada:

pip install reportlab


PermissÃ£o de gravaÃ§Ã£o na pasta H:\SisUno\Clientes\

ğŸ”¹ 9. Armazenamento sugerido
H:\Reserva\Pessoal\Sistema vendas e orÃ§amento\SisUno_Base_v0.1\docs\SisUno_v0.7_Documento_Tecnico.md